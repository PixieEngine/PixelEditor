@import pixie/editor_base

@import compass
@import compass/css3/user-interface

@import pixie/util/bounds
@import pixie/util/contents_centered
@import pixie/editor/pixel/pixel_tool

header.navbar-fixed-top
  .navbar-inner
    .container
      width: auto
      margin: 0 10px

.editor.pixie
  padding: 0

.pixie
  $sidebar_left: 50px
  $sidebar_right: 150px
  $margin: 12px

  +bounds(100%)
  +box-sizing(border-box)

  .content
    +box-sizing(border-box)

    height: 100%

    padding-left: $sidebar_left
    padding-right: $sidebar_right
    padding-top: 34px

    position: relative

    .cursor_info
      +border-radius(4px)
      +box-shadow(rgba(0, 0, 0, 0.05) 0 1px 1px inset)

      bottom: 0
      font-size: 12px
      left: $sidebar_left + $margin
      position: absolute
      padding: 4px
      margin-bottom: 10px
      background-color: whiteSmoke
      border: 1px solid #EEE
      border: 1px solid rgba(0, 0, 0, 0.1)

  .module.left
    +border-radius(0)
    +bounds($sidebar_left, 100%)

    background-color: rgba(0, 0, 0, 0.3)
    border: none
    padding: 0

    .tool
      +border-radius(3px)
      +bounds(40px)
      +box-sizing(border-box)
      +box-shadow(rgba(255, 255, 255, 0.5) 0 1px 0 inset)

      background-position: center
      background-repeat: no-repeat
      border: 1px solid rgba(0, 0, 0, 0.2)
      cursor: pointer
      margin: 5px auto 0
      padding-top: 9px
      text-align: center

      +pixel_tool(brush)
      +pixel_tool(dropper)
      +pixel_tool(eraser)
      +pixel_tool(fill)
      +pixel_tool(mirror_pencil)
      +pixel_tool(pencil)

      &:hover
        background-color: rgba(255, 255, 255, 0.1)

      &.active
        +border-radius(3px)
        +box-shadow(rgba(0, 0, 0, 0.5) 0 0 3px inset)

        background-color: rgba(255, 255, 255, 0.3)
        border: 1px solid rgba(0, 0, 0, 0.4)

  .module.right
    +border-radius(0)
    +bounds($sidebar_right, 100%)

    background-color: rgba(0, 0, 0, 0.3)
    border: none
    padding: 1em

    hr
      border: none
      border-top: 1px solid rgba(255, 255, 255, 0.4)
      border-bottom: 1px solid rgba(0, 0, 0, 0.15)

    .preview
      +bounds(150px)

      background-color: #fff
      border: 1px solid #AAA
      cursor: pointer
      margin: auto

    .swatches
      margin: 1em auto
      width: 86px

    .swatch
      +border-radius(2px)
      +bounds(40px)
      +box-sizing(border-box)
      +inline-block

      cursor: pointer
      border: 1px solid rgba(0, 0, 0, 0.15)
      margin-bottom: 6px

      &:nth-child(even)
        margin-left: 6px

      &:hover
        +transition(all, 0.15s)
        +scale(1.1)

    .color_picker_holder
      +bounds(74px, 76px)

      margin: auto
      margin-bottom: 2em
      position: relative

      input.color
        +border-radius(4px)
        +bounds(50px)

        border: 2px solid
        border-color: rgba(255, 255, 255, 0.4)
        position: absolute
        text-align: center

        &.primary
          left: 0
          top: 0
          z-index: 2
        &.secondary
          left: 20px
          top: 20px
          z-index: 1

  .canvas
    +user-select(none)
    +box-sizing(border-box)

    border: 1px solid #000

    +canvas_cursor(pencil, 4, 14)
    +canvas_cursor(dropper, 13, 13)
    +canvas_cursor(mirror_pencil, 8, 14)
    +canvas_cursor(brush, 4, 14)
    +canvas_cursor(eraser, 4, 11)
    +canvas_cursor(fill, 12, 13)

  .viewport
    +bounds(100%)
    +box-sizing(border-box)
    +contents-centered

    background: none
    display: inline-block
    margin-top: 15px
    overflow: auto
    position: relative

    .canvas
      margin-top: 0

  .layer
    position: absolute

    &:first-child
      background: white url(/assets/pixie/editor/pixel/pixel_bg.png)

  .actions
    position: absolute
    top: 0
    margin-left: 20px

  .toggle_holder
    display: block
    margin-left: 70px

  .layers
    display: inline-block
    margin: 0
    margin-top: 1em
    width: 80px

    h3
      margin: 0

    a.tool
      display: inline-block
      height: auto
      margin: 0
      margin-top: 5px
      width: auto

      &.active
        color: white

  .opacity
    cursor: pointer
    height: 73px
    position: absolute
    right: 1em
    top: 1em

    .val
      cursor: pointer
      position: absolute
      right: -5px
      bottom: -20px

#newCanvasModal
  width: 400px
